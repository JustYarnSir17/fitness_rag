1. 서비스 개요

서비스명: AI 피트니스 어시스턴트

기능: 사용자의 기본 신체 정보(성별, 나이, 키, 체중, 활동 수준, 질환, 목표)를 입력받아 맞춤형 운동 루틴·식단·보조제를 추천.

신뢰성 확보: 내부 자료(resources 폴더 내 PDF/CSV)와 외부 웹 검색을 통한 교차 검증을 거쳐 답변의 근거를 제시.

2. 핵심 요구사항과 구현 방법

(1) 사용자 입력 기반 맞춤형 응답
Streamlit UI에서 사용자 정보 입력을 받아 LangGraph 멀티에이전트로 전달.
에이전트는 운동 루틴 / 식단 / 보조제를 각기 다른 노드에서 생성 → 최종 통합 응답으로 반환.

(2) RAG (Retrieval-Augmented Generation)
resources/ 폴더 내 모든 파일을 읽어 하나의 코퍼스 인덱스(FAISS)로 구축.
필요 시 특정 파일만 대상으로 검색 가능(메타데이터 필터링 적용).
사용자가 질문하면, 질문 → FAISS 검색 → 관련 chunk 추출 → GPT 응답 보강의 흐름으로 동작.

(3) 다중 파일 처리
resources 폴더에 여러 PDF/CSV를 넣어도 하나의 통합 인덱스를 생성.
따라서 사용자는 여러 자료 기반으로 동시에 검색 가능.
특정 파일 기반 검색도 지원 → 유연성 확보.

(4) 웹 교차 검증
WEB_SEARCH_PROVIDER 환경변수(tavily / serpapi) 설정 시 외부 검색 사용 가능.
응답 생성 시 내부 RAG 결과와 웹 검색 결과를 함께 표시 → 신뢰도 향상.
디버그 모드에서 웹 교차 검증 사용 여부와 검색 근거까지 확인 가능하도록 로깅.

(5) Streamlit 인터페이스
단순 입력 폼 + 응답 출력 UI 제공.
사용자는 코드 실행만으로 웹 브라우저에서 손쉽게 테스트 가능.

3. 구현 특징 (차별화 포인트)
(1) 멀티 파일 자동 인덱싱: 개별 파일별 인덱스를 만드는 대신, resources 폴더 전체를 스캔해 하나의 인덱스로 관리.
(2) 선택적 검색 범위: 전체 코퍼스 기반 검색 또는 특정 문서 기반 검색 지원.
(3) LangGraph 멀티에이전트 구조: 운동/식단/보조제 모듈을 분리해 전문성 있는 답변 생성.
(4) 웹 교차 검증: 내부 문헌 + 외부 최신 자료를 함께 활용해 답변 근거 강화.
(5) 멀티턴 대화 구조: 대화 히스토리를 저장해서 문맥을 반영해 대화를 진행함.


